import{_ as g,B as y,r as v,o as C,c as k,b as s,w as e,a as o,g as p,t as f,i as c,e as w,s as T,x as b,j as I,v as $}from"./index-362cbba5.js";import{g as h}from"./room-26e1a6ea.js";import{g as R}from"./checkIn-026114fb.js";import{g as S}from"./reservation-ffa2f614.js";import"./request-f1d2817d.js";const x={class:"home"},z={class:"stat-inner"},B={class:"stat-value"},D={class:"stat-inner"},H={class:"stat-value"},L={class:"stat-inner"},N={class:"stat-value"},V={class:"stat-inner"},j={class:"stat-value"},q={class:"quick-links"},E={__name:"Home",setup(M){const i=w({roomTotal:0,vacantCount:0,occupiedCount:0,reservationToday:0});async function m(){try{const d=new Date().toISOString().slice(0,10),[t,r,l]=await Promise.all([h(),R({status:"staying"}),S({checkInDate:d})]),a=t.list||[],_=r.list||[],u=(l.list||[]).filter(n=>n.statusId===1&&n.checkInDate===d);i.value={roomTotal:a.length,vacantCount:a.filter(n=>n.roomStatusId===1).length,occupiedCount:_.length,reservationToday:u.length}}catch{i.value={roomTotal:0,vacantCount:0,occupiedCount:0,reservationToday:0}}}return y(m),(d,t)=>{const r=v("el-icon"),l=v("el-card"),a=v("el-col"),_=v("el-row"),u=v("el-button");return C(),k("div",x,[s(_,{gutter:16,class:"stats-row"},{default:e(()=>[s(a,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[o("div",z,[s(r,{class:"stat-icon",size:32},{default:e(()=>[s(p(T))]),_:1}),o("div",null,[o("div",B,f(i.value.roomTotal),1),t[4]||(t[4]=o("div",{class:"stat-label"},"房间总数",-1))])])]),_:1})]),_:1}),s(a,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[o("div",D,[s(r,{class:"stat-icon vacant",size:32},{default:e(()=>[s(p(b))]),_:1}),o("div",null,[o("div",H,f(i.value.vacantCount),1),t[5]||(t[5]=o("div",{class:"stat-label"},"空房",-1))])])]),_:1})]),_:1}),s(a,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[o("div",L,[s(r,{class:"stat-icon occupied",size:32},{default:e(()=>[s(p(I))]),_:1}),o("div",null,[o("div",N,f(i.value.occupiedCount),1),t[6]||(t[6]=o("div",{class:"stat-label"},"在住",-1))])])]),_:1})]),_:1}),s(a,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[o("div",V,[s(r,{class:"stat-icon",size:32},{default:e(()=>[s(p($))]),_:1}),o("div",null,[o("div",j,f(i.value.reservationToday),1),t[7]||(t[7]=o("div",{class:"stat-label"},"今日预抵",-1))])])]),_:1})]),_:1})]),_:1}),s(_,{gutter:16,style:{"margin-top":"16px"}},{default:e(()=>[s(a,{span:12},{default:e(()=>[s(l,null,{header:e(()=>[...t[8]||(t[8]=[c("快捷入口",-1)])]),default:e(()=>[o("div",q,[s(u,{type:"primary",onClick:t[0]||(t[0]=n=>d.$router.push("/reservation"))},{default:e(()=>[...t[9]||(t[9]=[c("新建预订",-1)])]),_:1}),s(u,{type:"success",onClick:t[1]||(t[1]=n=>d.$router.push("/check-in"))},{default:e(()=>[...t[10]||(t[10]=[c("办理入住",-1)])]),_:1}),s(u,{onClick:t[2]||(t[2]=n=>d.$router.push("/room"))},{default:e(()=>[...t[11]||(t[11]=[c("房间管理",-1)])]),_:1}),s(u,{onClick:t[3]||(t[3]=n=>d.$router.push("/room-type"))},{default:e(()=>[...t[12]||(t[12]=[c("房型管理",-1)])]),_:1})])]),_:1})]),_:1}),s(a,{span:12},{default:e(()=>[s(l,null,{header:e(()=>[...t[13]||(t[13]=[c("欢迎使用",-1)])]),default:e(()=>[t[14]||(t[14]=o("p",null,"酒店客房管理系统：房型与房间管理、预订、入住、退房结账等。请从左侧菜单进入对应功能。",-1))]),_:1})]),_:1})]),_:1})])}}},J=g(E,[["__scopeId","data-v-2ae6e233"]]);export{J as default};
