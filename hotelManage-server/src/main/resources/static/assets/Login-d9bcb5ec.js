import{_ as b,u as x,r as t,o as V,c as k,a as m,b as o,w as a,d as h,e as p,f as I,g as _,h as L,i as N,E as f,j as S,l as z}from"./index-362cbba5.js";const B={class:"login-page"},C={class:"login-card"},E={__name:"Login",setup(R){const g=x(),d=p(null),l=p(!1),s=I({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]};async function r(){var n;await((n=d.value)==null?void 0:n.validate().catch(()=>{})),l.value=!0;try{localStorage.setItem("token","mock-token"),localStorage.setItem("userInfo",JSON.stringify({username:s.username})),f.success("登录成功"),g.push("/")}catch(e){f.error((e==null?void 0:e.message)||"登录失败")}finally{l.value=!1}}return(n,e)=>{const c=t("el-input"),u=t("el-form-item"),w=t("el-button"),y=t("el-form");return V(),k("div",B,[m("div",C,[e[3]||(e[3]=m("h1",{class:"title"},"酒店客房管理系统",-1)),o(y,{ref_key:"formRef",ref:d,model:s,rules:v,class:"form",onSubmit:h(r,["prevent"])},{default:a(()=>[o(u,{prop:"username"},{default:a(()=>[o(c,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),placeholder:"用户名",size:"large","prefix-icon":_(S),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,{prop:"password"},{default:a(()=>[o(c,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),type:"password",placeholder:"密码",size:"large","show-password":"","prefix-icon":_(z),clearable:"",onKeyup:L(r,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,null,{default:a(()=>[o(w,{type:"primary",size:"large",loading:l.value,class:"btn-login",onClick:r},{default:a(()=>[...e[2]||(e[2]=[N(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},K=b(E,[["__scopeId","data-v-8aadb640"]]);export{K as default};
